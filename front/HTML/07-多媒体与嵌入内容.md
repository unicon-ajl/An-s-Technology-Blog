
# 多媒体与嵌入内容

> 🎥🔊 **现代网页不止文字，还有音视频、地图、第三方内容**。  
> HTML 提供了安全、语义化的方式嵌入这些资源。

---

## 音频：`<audio>`

### 基本用法
```html
<audio controls>
  <source src="song.mp3" type="audio/mpeg">
  <source src="song.ogg" type="audio/ogg">
  您的浏览器不支持音频播放。
</audio>
```

- `controls`：显示播放控件（播放/暂停/音量）；
- `<source>`：提供多种格式，浏览器选支持的；
- 最后文本：降级提示（旧浏览器显示）。

> 💡 常见格式：MP3（广泛支持）、OGG（开源）、WAV（无损但大）。

---

## 视频：`<video>`

### 基本用法
```html
<video controls width="640" height="360">
  <source src="movie.mp4" type="video/mp4">
  <source src="movie.webm" type="video/webm">
  您的浏览器不支持视频播放。
</video>
```

### 常用属性
| 属性 | 作用 |
|------|------|
| `controls` | 显示播放控件 |
| `autoplay` | 自动播放（**慎用！** 移动端通常禁用） |
| `muted` | 静音（配合 `autoplay` 可绕过限制） |
| `loop` | 循环播放 |
| `poster` | 封面图（`<video poster="cover.jpg">`） |

> ⚠️ 用户体验提示：**避免自动播放有声视频**，会打扰用户。

---

## 嵌入外部内容：`<iframe>`

用于安全地嵌入第三方页面（如地图、视频、广告）：

```html
<iframe
  src="https://www.google.com/maps/embed?..."
  width="600"
  height="450"
  title="公司位置地图"
  loading="lazy"
></iframe>
```

### 关键要点
- **必须提供 `title` 属性**：屏幕阅读器依赖它说明 iframe 内容；
- 使用 `loading="lazy"`：提升页面加载性能；
- 避免嵌入不可信来源（存在安全风险）。

> ✅ 合理用途：YouTube 视频、Google 地图、可信赖的交互式图表。

---

## 其他嵌入方式（较少用）

| 标签 | 用途 | 现状 |
|------|------|------|
| `<embed>` | 嵌入插件内容（如 PDF、Flash） | ❌ 已过时，不推荐 |
| `<object>` | 通用嵌入（可含 fallback） | ⚠️ 仅特殊场景使用 |
| `<picture>` | 响应式图片（进阶） | ✅ 推荐用于 art-directed 图像 |

> 📌 现代开发中，**优先使用 `<img>`、`<video>`、`<iframe>`**，它们更安全、语义更清晰。

---

## 无障碍与性能建议

### 1. 多媒体必须提供替代方案
- 视频 → 提供字幕（`.vtt` 文件）：
  ```html
  <track kind="subtitles" src="zh.vtt" srclang="zh" label="中文">
  ```
- 音频 → 提供文字稿链接；
- 图表 → 用 `<figure>` + 详细 `alt` 或说明文本。

### 2. 懒加载提升性能
```html
<img src="photo.jpg" loading="lazy" alt="...">
<iframe src="..." loading="lazy" title="..."></iframe>
```
> ✅ 浏览器只在元素即将进入视口时加载，节省流量和内存。

---

## 总结

| 元素 | 用途 | 必做事项 |
|------|------|--------|
| `<audio>` | 播放声音 | 提供多格式 + 降级文本 |
| `<video>` | 播放视频 | 加 `controls`，慎用 `autoplay` |
| `<iframe>` | 嵌入外部内容 | **必须加 `title`**，用 `loading="lazy"` |

> ✅ 多媒体让网页生动，但**可用性与性能不可牺牲**。

---
