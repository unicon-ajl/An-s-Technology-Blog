
# 语义化与无障碍（a11y）

> ♿ **无障碍（Accessibility，简称 a11y）不是“加分项”，而是 Web 的基本责任**。  
> 而语义化 HTML，正是实现无障碍的第一步。

---

## 什么是无障碍？

无障碍指**让所有人（包括残障人士）都能平等使用 Web 内容**，例如：
- 视障用户通过**屏幕阅读器**听网页；
- 键盘用户通过 **Tab 键导航**；
- 色盲用户依赖**非颜色信息**理解内容。

> 🌍 全球约 **15% 人口有某种残障**（WHO 数据），无障碍关乎数亿人。

---

## 语义化 = 无障碍的基石

### ❌ 非语义化写法（机器看不懂）
```html
<div onclick="submitForm()">提交</div>
<div class="title">欢迎</div>
<span style="color:red;">错误！</span>
```

### ✅ 语义化写法（机器能理解）
```html
<button type="submit">提交</button>
<h1>欢迎</h1>
<strong aria-invalid="true" role="alert">错误！</strong>
```

> 💡 屏幕阅读器会识别 `<button>` 为可操作元素，`<h1>` 为主标题，`role="alert"` 为紧急通知。

---

## 关键实践指南

### 1. **用对标签，不用 `<div>` 代替**
| 场景 | 错误 | 正确 |
|------|------|------|
| 按钮 | `<div class="btn">` | `<button>` |
| 导航 | `<div class="nav">` | `<nav>` |
| 主内容 | `<div id="main">` | `<main>` |

> ✅ 原生语义标签自带键盘交互和焦点管理。

---

### 2. **所有交互元素必须可通过键盘操作**
- `<button>`、`<a>`、表单控件默认支持 Tab 键聚焦；
- 自定义组件（如用 `<div>` 模拟按钮）需手动添加：
  ```html
  <div tabindex="0" role="button" @keydown.enter="clickHandler">
    自定义按钮
  </div>
  ```
> ⚠️ 但**优先使用原生标签**，避免重复造轮子。

---

### 3. **图像必须有 `alt` 文本**
- 信息图：`alt="2025 年前端框架市场份额：React 60%，Vue 25%"`
- 装饰图：`alt=""`（空值，跳过朗读）
- 功能图标（如搜索）：`alt="搜索"` 或用 ARIA

---

### 4. **表单必须关联 `<label>`**
```html
<label for="email">邮箱</label>
<input id="email" type="email">
```
> ✅ 屏幕阅读器会说：“邮箱，编辑框”。

---

### 5. **使用 ARIA 增强语义（谨慎！）**
ARIA（Accessible Rich Internet Applications）用于补充 HTML 语义：

| 场景 | 用法 |
|------|------|
| 实时更新区域 | `<div aria-live="polite">加载中...</div>` |
| 当前选中项 | `<li aria-current="page">首页</li>` |
| 隐藏装饰元素 | `<span aria-hidden="true">★</span>` |

> ⚠️ **原则：能用原生 HTML 就不用 ARIA**。错误的 ARIA 比没有更糟！

---

## 测试你的页面是否无障碍

1. **键盘测试**：只用 Tab/Enter/Space 导航，能否完成核心操作？
2. **屏幕阅读器试用**：
   - macOS：VoiceOver（Cmd + F5）
   - Windows：NVDA（免费）
3. **自动化工具**：
   - 浏览器 DevTools → Lighthouse → Accessibility 评分
   - [WAVE](https://wave.webaim.org/) 在线检测

---

## 总结：无障碍开发心法

- **内容先行**：先写干净、语义化的 HTML；
- **渐进增强**：再用 CSS/JS 提升体验；
- **包容设计**：考虑不同能力用户的使用场景；
- **持续验证**：把无障碍纳入开发流程。

> ✅ 一个真正优秀的网页，**不仅好看好用，更要人人可用**。

---
