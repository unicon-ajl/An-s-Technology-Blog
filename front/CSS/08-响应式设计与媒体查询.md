
# 响应式设计与媒体查询

> 📱 **“一次编写，处处可用”——响应式设计让网页在手机、平板、桌面都能优雅呈现**。  
> 而媒体查询（Media Queries），正是实现这一目标的核心武器。

---

## 什么是响应式设计？

响应式网页能**自动适应不同屏幕尺寸**，无需为每个设备单独开发页面。其三大支柱：

1. **流动网格（Fluid Grids）**：用 `%`、`rem`、`vw` 等相对单位代替固定像素；
2. **弹性图片（Flexible Images）**：图片最大不超过容器宽度；
3. **媒体查询（Media Queries）**：在特定条件下应用不同样式。

> 💡 核心理念：**内容优先，设备无关**。

---

## 视口（Viewport）设置 —— 移动端第一步！

没有这行代码，手机浏览器会以“桌面宽度”渲染页面，导致文字极小、需手动缩放：

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```
- `width=device-width`：页面宽度 = 设备屏幕宽度；
- `initial-scale=1.0`：初始缩放比例为 1。

> ✅ 所有响应式项目必须包含此 meta 标签！

---

## 媒体查询基础语法

```css
@media (条件) {
  /* 当条件满足时，应用这些样式 */
}
```

### 最常用条件：屏幕宽度
```css
/* 平板及以下 */
@media (max-width: 768px) {
  .sidebar { display: none; }
}

/* 桌面及以上 */
@media (min-width: 1024px) {
  .container { max-width: 1200px; }
}
```

> ⚠️ 注意：`max-width` 是“小于等于”，`min-width` 是“大于等于”。

---

## 移动优先（Mobile-First）策略 ✅ **推荐**

**先写移动端样式，再用 `min-width` 逐步增强**：

```css
/* 默认：手机样式 */
.card {
  padding: 1rem;
  font-size: 1rem;
}

/* 平板起 */
@media (min-width: 768px) {
  .card {
    padding: 1.5rem;
    font-size: 1.125rem;
  }
}

/* 桌面起 */
@media (min-width: 1024px) {
  .card {
    padding: 2rem;
    font-size: 1.25rem;
  }
}
```

✅ 优势：
- 代码更简洁（桌面样式是手机的“增强”）；
- 性能更好（低端设备只加载必要样式）；
- 符合渐进增强原则。

---

## 常用断点（Breakpoints）

断点是布局变化的临界屏幕宽度。**不要盲目套用 Bootstrap 的断点**，应根据内容决定！

| 设备类型 | 建议断点（仅供参考） | 用途 |
|--------|------------------|------|
| 手机竖屏 | `< 640px` | 单列布局 |
| 平板/大屏手机 | `≥ 640px` | 双列卡片 |
| 桌面 | `≥ 1024px` | 多栏+侧边栏 |
| 大屏 | `≥ 1280px` | 宽容器、多模块 |

> 💡 更好的做法：**在浏览器中拖动窗口，观察内容何时“看起来不舒服”，就在那里设断点**。

---

## 其他有用媒体特性

| 特性 | 示例 | 用途 |
|------|------|------|
| `orientation` | `(orientation: landscape)` | 横屏特殊布局 |
| `hover` | `(hover: hover)` | 仅对支持悬停的设备显示 hover 效果 |
| `prefers-reduced-motion` | `(prefers-reduced-motion: reduce)` | 尊重用户关闭动画偏好 |
| `resolution` | `(min-resolution: 2dppx)` | 高清屏（Retina）适配 |

### 示例：尊重用户动画偏好
```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

---

## 弹性单位：让布局真正“流动”

- **`%`**：相对于父容器宽度；
- **`vw` / `vh`**：视口宽度/高度的 1%（`100vw` = 屏幕全宽）；
- **`clamp()`**：实现“最小-理想-最大”弹性值（现代神器！）

### 示例：标题字号随屏幕平滑缩放
```css
h1 {
  font-size: clamp(1.5rem, 4vw, 3rem);
  /* 手机 ≥1.5rem，桌面 ≤3rem，中间按 4vw 计算 */
}
```

---

## 图片响应式处理

```css
img {
  max-width: 100%;  /* 不超过容器 */
  height: auto;     /* 保持宽高比 */
}
```

> ✅ 对所有 `<img>` 应用此规则，可避免图片溢出。

---

## 最佳实践

✅ **坚持移动优先**，用 `min-width` 向上扩展；  
✅ **断点基于内容，而非设备**；  
✅ **全局设置 `img { max-width: 100%; height: auto; }`**；  
✅ **使用 `clamp()` 实现精细弹性控制**；  
✅ **通过 `prefers-reduced-motion` 提升无障碍体验**。

---

✅ 本篇亮点：
- 强调“移动优先”这一现代开发范式；
- 提供 `clamp()` 这一高级但实用的弹性单位技巧；
- 引入 `prefers-reduced-motion` 等无障碍媒体查询；
- 明确反对“死记设备断点”，倡导内容驱动设计。